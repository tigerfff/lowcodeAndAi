# 快速开始

## 一、概述

本文档介绍如何快速使用智能页面代码生成工具生成 Vue2 业务页面代码（使用 hui2.43.2 + hui-pro 组件库）。

## 二、使用流程

### 完整流程（4 步）

```
① 选择模板 → ② 选择组件 → ③ 配置 API → ④ 生成代码
```

---

## 三、详细步骤

### Step 1：选择模板

**操作**：从模板库选择页面类型

**可选模板**：
- 📋 标准列表页：搜索 + 表格 + 分页
- 🔍 复杂筛选页：多条件筛选 + 复杂选择器
- ⚙️ 表单配置页：动态表单 + 侧边栏弹窗

**界面**：
```
┌──────────────────────────────────────┐
│  选择页面模板                         │
├──────────────────────────────────────┤
│  ┌──────┐  ┌──────┐  ┌──────┐       │
│  │ 📋  │  │ 🔍  │  │ ⚙️  │       │
│  │标准  │  │复杂  │  │表单  │       │
│  │列表  │  │筛选  │  │配置  │       │
│  └──────┘  └──────┘  └──────┘       │
└──────────────────────────────────────┘
```

**示例**：选择"复杂筛选列表页"

---

### Step 2：选择组件

**操作**：在 Slot 位置添加需要的组件

**组件类型**：
- 基础组件：输入框、下拉选择、日期选择器
- 业务组件：区域选择器、人员选择器、团队选择器

**界面**：
```
┌────────────────────────────────────────┐
│  📍 搜索区（0-6个组件）                 │
│  ┌──────────────────────────────────┐  │
│  │ [ + 添加组件 ]                   │  │
│  └──────────────────────────────────┘  │
│                                        │
│  📍 表格区                              │
│  ┌──────────────────────────────────┐  │
│  │ [ + 添加列 ]                     │  │
│  └──────────────────────────────────┘  │
└────────────────────────────────────────┘
```

**添加组件**：
1. 点击"+ 添加组件"
2. 弹出组件选择器
3. 选择需要的组件
4. 组件自动添加到列表

**组件选择器**：
```
┌────────────────────────────────────────┐
│  选择组件                               │
├────────────────────────────────────────┤
│  📁 基础组件                            │
│    • 输入框（el-input）                 │
│    • 下拉选择（el-select）              │
│    • 日期选择（el-date-picker）         │
│                                        │
│  📁 业务组件 ⭐                         │
│    • 区域选择器（双面板）               │
│    • 人员选择器（标签输入）             │
│    • 团队选择器（层级浏览）             │
└────────────────────────────────────────┘
```

**示例**：
- 搜索区：添加"区域选择器"、"团队选择器"
- 表格区：添加数据列

**注意**：只需选择组件，无需配置属性，AI 会自动推断。

---

### Step 3：配置 API

**操作**：添加多个 API 配置（支持粘贴 JSON）

**界面**：
```
┌────────────────────────────────────────┐
│  配置 API 接口                          │
├────────────────────────────────────────┤
│  [ + 添加 API 接口 ]                   │
│                                        │
│  ┌────────────────────────────────┐  │
│  │ API 1: 用户列表查询    [删除]  │  │
│  ├────────────────────────────────┤  │
│  │ 接口名称：用户列表查询          │  │
│  │ 接口地址：/api/users/list      │  │
│  │ 请求方法：[POST ▼]             │  │
│  │                                │  │
│  │ 📋 请求参数示例（JSON）        │  │
│  │ {                              │  │
│  │   "pageNo": 1,                │  │
│  │   "pageSize": 20,             │  │
│  │   "userName": ""              │  │
│  │ }                              │  │
│  │                                │  │
│  │ 📋 响应示例（JSON）            │  │
│  │ {                              │  │
│  │   "data": {                    │  │
│  │     "rows": [...],            │  │
│  │     "total": 100              │  │
│  │   }                            │  │
│  │ }                              │  │
│  │                                │  │
│  │ 用途说明：用于查询用户列表      │  │
│  └────────────────────────────────┘  │
└────────────────────────────────────────┘
```

**说明**：
- 支持添加多个 API（每个业务场景可能需要多个接口）
- 可以粘贴请求参数示例和响应示例（JSON 格式）
- AI 会根据 JSON 示例推断字段映射和数据路径

**示例**：
- API 1：用户列表查询 `POST /api/users/list`
- API 2：状态枚举 `GET /api/dict/status`
- API 3：部门列表 `GET /api/departments`

**配置 AI 模型**：

在生成代码前，需先配置 AI 模型：

```
┌────────────────────────────────────────┐
│  AI 模型配置                            │
├────────────────────────────────────────┤
│  Base URL：                            │
│  ┌──────────────────────────────────┐  │
│  │ https://api.openai.com/v1       │  │
│  └──────────────────────────────────┘  │
│                                        │
│  API Key：                             │
│  ┌──────────────────────────────────┐  │
│  │ sk-xxxxx                         │  │
│  └──────────────────────────────────┘  │
│                                        │
│  模型：[gpt-4 ▼]                       │
└────────────────────────────────────────┘
```

---

### Step 4：生成代码

**操作**：点击"生成代码"

**界面**：
```
┌────────────────────────────────────────┐
│  🤖 AI 生成中...                        │
│  ┌──────────────────────────────────┐  │
│  │ ⏳ 正在推断组件属性...            │  │
│  │ ⏳ 正在生成 API 调用逻辑...       │  │
│  │ ⏳ 正在生成数据流转逻辑...        │  │
│  └──────────────────────────────────┘  │
└────────────────────────────────────────┘
```

**AI 自动完成**：
1. 分析模板结构和组件配置
2. 分析 API JSON 示例，推断字段映射和数据路径
3. 推断组件属性（字段名、标签、占位符、默认值）
4. 推断组件依赖关系和事件处理
5. 参考 Handlebars 模板生成完整的 .vue 代码
6. 返回符合 hui2.43.2 + hui-pro 规范的代码

**生成成功**：
```
┌────────────────────────────────────────┐
│  ✅ 代码生成成功                        │
├────────────────────────────────────────┤
│  [ 📋 复制代码 ] [ 💾 下载文件 ]       │
└────────────────────────────────────────┘
```

---

## 四、使用示例

### 示例 1：生成"用户管理列表页"

**场景**：标准的用户列表页，包含搜索和表格

**操作**：
1. 选择模板：**标准列表页**
2. 添加组件：
   - 搜索区：输入框、下拉选择
   - 表格区：数据列
3. 填写 API：`/api/users/list`
4. 生成代码

**AI 自动推断**：
- 输入框 → 用户名字段
- 下拉选择 → 状态字段（启用/禁用）
- 数据映射 → `data.rows`、`data.total`

**时间**：2-3 分钟

---

### 示例 2：生成"问题统计页"（复杂场景）

**场景**：复杂筛选页，包含区域选择器、团队选择器

**操作**：
1. 选择模板：**复杂筛选列表页**
2. 添加组件：
   - 搜索区：区域选择器、团队选择器
   - 表格区：数据列
3. 填写 API：
   - 主数据：`/api/problems/list`
   - 区域：`/api/areas`
   - 团队：`/api/teams`
4. 生成代码

**AI 自动推断**：
- 区域选择器 → 可搜索、可多选、层级浏览
- 团队选择器 → 标签输入、依赖区域
- 依赖关系 → 区域变化时加载团队
- 数据流转 → 团队变化时触发查询

**时间**：3-5 分钟

---

## 五、常见操作

### 5.1 添加组件

1. 点击 Slot 区域的"+ 添加组件"
2. 从组件选择器选择组件
3. 组件自动添加到列表

### 5.2 调整组件顺序

- 使用上下箭头调整组件顺序
- AI 会根据顺序生成代码

### 5.3 删除组件

- 点击组件卡片的"删除"按钮
- 组件从列表移除

### 5.4 粘贴 API 文档

**支持格式**：
- OpenAPI/Swagger JSON
- API 响应示例 JSON

**操作**：
1. 点击"AI 解析"
2. 粘贴 API 文档
3. AI 自动解析并填充配置

---

## 六、常见问题

### Q1：支持哪些组件？

**A**：
- 基础组件：Element UI 全部组件
- 业务组件：区域选择器、人员选择器等
- 自定义组件：可注册自定义组件

### Q2：如何添加自定义组件？

**A**：在 `componentLibrary.js` 中注册组件定义

### Q3：生成的代码可以修改吗？

**A**：可以，生成的是标准 Vue 代码，可自由修改

### Q4：AI 推断不准确怎么办？

**A**：可导出配置 JSON，手动修改后重新生成

### Q5：支持哪些页面类型？

**A**：
- 当前支持：标准列表页、复杂筛选页、表单配置页
- 未来扩展：左树右表、多 Tab 列表、详情页等

---

## 七、进阶使用

### 7.1 使用模板预设

快速开始：
1. 选择模板预设（如"用户列表"）
2. 修改 API 地址
3. 生成代码

### 7.2 导出和导入配置

**导出配置**：
- 点击"保存配置"
- 下载配置 JSON

**导入配置**：
- 点击"导入配置"
- 上传配置 JSON
- 自动加载配置

### 7.3 配置 AI 模型

**在界面配置**（Step 3 中）：

必填项：
- **Base URL**：AI 模型的 HTTP 接口地址
  - 示例：`https://api.openai.com/v1`
  - 支持其他兼容 OpenAI API 格式的模型
- **API Key**：访问密钥
  - 示例：`sk-xxxxxxxxxxxxxxxx`

可选项：
- **模型**：选择具体模型（默认 gpt-4）
- **Temperature**：控制创造性（0-1，默认 0.2）
- **Max Tokens**：最大 token 数（默认 4000）

**配置保存**：
- 配置会保存在浏览器 localStorage
- 下次使用时自动加载
- 支持多个配置切换

---

## 八、获取帮助

### 文档
- [产品文档](./产品文档.md)
- [开发文档](./开发文档.md)

### 反馈
- 提交 Issue
- 发送邮件

---

## 九、总结

通过 4 个简单步骤，即可快速生成高质量的 Vue2 业务页面代码（使用 hui2.43.2 + hui-pro 组件库）：

1. **选择模板**（1 次点击）
2. **选择组件**（几次点击）
3. **配置 API**（粘贴 JSON + 配置 AI 模型）
4. **生成代码**（AI 自动完成）

**总时间**：3-5 分钟

**核心优势**：
- ⚡ 极简交互：只需选择和粘贴
- 🤖 AI 智能生成：完整代码一次生成
- ✅ 代码质量稳定：符合 hui2.43.2 + hui-pro 规范
- 🔄 Fallback 保障：AI 失败时使用模板生成

