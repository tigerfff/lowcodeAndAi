# é¡¹ç›®ç»“æ„æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹è·¯å¾„

### ç¬¬ä¸€æ­¥ï¼šå…¥å£æ–‡ä»¶
1. **`src/main.js`** - åº”ç”¨å…¥å£ï¼Œåˆå§‹åŒ– Vue å’Œå…¨å±€é…ç½®
2. **`src/App.vue`** - æ ¹ç»„ä»¶ï¼Œä»…æ¸²æŸ“ Editor è§†å›¾

### ç¬¬äºŒæ­¥ï¼šä¸»è§†å›¾
3. **`src/views/Editor.vue`** - ä¸»ç¼–è¾‘é¡µé¢ï¼ŒåŒ…å«ï¼š
   - å¤´éƒ¨æ“ä½œæ ï¼ˆæ¨¡æ¿é€‰æ‹©ã€å›¾ç‰‡è§£æã€å¯¼å…¥å¯¼å‡ºç­‰ï¼‰
   - ä¾§è¾¹æ ï¼ˆå·¥ä½œæ¦‚è§ˆã€å¿«é€Ÿé…ç½®ï¼‰
   - ä¸»å†…å®¹åŒºï¼ˆä»£ç ç”Ÿæˆã€AIå¯¹è¯ï¼‰

### ç¬¬ä¸‰æ­¥ï¼šæ ¸å¿ƒç»„ä»¶ï¼ˆæŒ‰ä½¿ç”¨é¡ºåºï¼‰
4. **`src/components/TemplateSelector.vue`** - é€‰æ‹©é¡µé¢æ¨¡æ¿
5. **`src/components/ComponentConfig.vue`** - é…ç½®é¡µé¢ç»„ä»¶
   - ä½¿ç”¨ `ComponentSlot.vue` å±•ç¤ºå„ä¸ªåŒºåŸŸçš„ç»„ä»¶
   - ä½¿ç”¨ `ComponentSelector.vue` é€‰æ‹©æ·»åŠ ç»„ä»¶
6. **`src/components/ApiConfig.vue`** - é…ç½® API æ¥å£
7. **`src/components/CodeGenerator.vue`** - ç”Ÿæˆä»£ç çš„ä¸»ç•Œé¢

### ç¬¬å››æ­¥ï¼šæ ¸å¿ƒæœåŠ¡
8. **`src/store/index.js`** - Vuex çŠ¶æ€ç®¡ç†ï¼Œå­˜å‚¨æ‰€æœ‰é…ç½®
9. **`src/services/templateManager.js`** - æ¨¡æ¿ç®¡ç†
10. **`src/services/componentLibrary.js`** - ç»„ä»¶åº“å®šä¹‰
11. **`src/services/codeGenerator.js`** - ä»£ç ç”Ÿæˆé€»è¾‘
12. **`src/services/aiService.js`** - AI æ¥å£è°ƒç”¨

---

## ğŸ“ æ–‡ä»¶å…³è”å…³ç³»

```
å…¥å£å±‚
â”œâ”€â”€ main.js
â”‚   â””â”€â”€ App.vue
â”‚       â””â”€â”€ views/Editor.vue â­ æ ¸å¿ƒè§†å›¾
â”‚           â”œâ”€â”€ components/TemplateSelector.vue
â”‚           â”œâ”€â”€ components/ComponentConfig.vue
â”‚           â”‚   â”œâ”€â”€ components/ComponentSlot.vue
â”‚           â”‚   â””â”€â”€ components/ComponentSelector.vue
â”‚           â”œâ”€â”€ components/ApiConfig.vue
â”‚           â”œâ”€â”€ components/CodeGenerator.vue
â”‚           â”‚   â”œâ”€â”€ components/CodePreviewDialog.vue
â”‚           â”‚   â””â”€â”€ components/LivePreviewDialog.vue
â”‚           â””â”€â”€ components/AiChatPanel.vue
â”‚
çŠ¶æ€å±‚
â””â”€â”€ store/index.js â­ å…¨å±€çŠ¶æ€
    â”œâ”€â”€ ä¾èµ– services/templateManager.js
    â””â”€â”€ ä¾èµ– services/componentLibrary.js
â”‚
æœåŠ¡å±‚
â”œâ”€â”€ services/templateManager.js â­ æ¨¡æ¿ç®¡ç†
â”‚   â””â”€â”€ è¯»å– templates/*/template.json
â”œâ”€â”€ services/componentLibrary.js â­ ç»„ä»¶åº“
â”‚   â””â”€â”€ å®šä¹‰æ‰€æœ‰å¯ç”¨ç»„ä»¶å…ƒæ•°æ®
â”œâ”€â”€ services/codeGenerator.js â­ ä»£ç ç”Ÿæˆ
â”‚   â”œâ”€â”€ ä¾èµ– templateManager.js
â”‚   â”œâ”€â”€ ä¾èµ– aiService.js
â”‚   â””â”€â”€ ä½¿ç”¨ Handlebars æ¸²æŸ“æ¨¡æ¿
â””â”€â”€ services/aiService.js â­ AI æ¥å£
    â””â”€â”€ è°ƒç”¨å¤–éƒ¨ AI APIï¼ˆOpenAI å…¼å®¹æ ¼å¼ï¼‰
â”‚
å·¥å…·å±‚
â”œâ”€â”€ utils/vueSFCCompiler.js - Vue ç»„ä»¶ç¼–è¯‘
â””â”€â”€ utils/vueComponentParser.js - Vue ç»„ä»¶è§£æ
â”‚
èµ„æºå±‚
â”œâ”€â”€ templates/ - æ¨¡æ¿å®šä¹‰
â”‚   â””â”€â”€ standard-list/
â”‚       â”œâ”€â”€ template.json
â”‚       â””â”€â”€ page.vue.hbs
â””â”€â”€ config/ - é…ç½®æ–‡ä»¶
    â”œâ”€â”€ utilsList.js
    â””â”€â”€ validatorsList.js
```

---

## ğŸ”„ æ ¸å¿ƒæµç¨‹

### 1. åˆå§‹åŒ–æµç¨‹
```
main.js â†’ App.vue â†’ Editor.vue
                â†“
        store/index.js (åŠ è½½é…ç½®)
                â†“
    templateManager.js (åŠ è½½æ¨¡æ¿)
```

### 2. é…ç½®æµç¨‹
```
Editor.vue (ç”¨æˆ·æ“ä½œ)
    â†“
TemplateSelector â†’ store (selectedTemplate)
    â†“
ComponentConfig â†’ ComponentSlot â†’ ComponentSelector
    â†“                            â†“
componentLibrary.js         store (slots)
    â†“
ApiConfig â†’ store (apiConfigs)
```

### 3. ç”Ÿæˆä»£ç æµç¨‹
```
CodeGenerator.vue (ç‚¹å‡»ç”Ÿæˆ)
    â†“
store/index.js (æ”¶é›†æ‰€æœ‰é…ç½®)
    â†“
codeGenerator.js
    â”œâ”€â”€ templateManager.js (è·å–æ¨¡æ¿)
    â”œâ”€â”€ aiService.js (è°ƒç”¨ AI)
    â””â”€â”€ Handlebars (æ¨¡æ¿æ¸²æŸ“)
    â†“
è¿”å›ç”Ÿæˆçš„ Vue ä»£ç 
```

### 4. AI è°ƒç”¨æµç¨‹
```
aiService.js
    â”œâ”€â”€ callAIGenerate() - ç”Ÿæˆä»£ç 
    â”œâ”€â”€ sendChatMessages() - AI å¯¹è¯
    â””â”€â”€ testAIConnection() - æµ‹è¯•è¿æ¥
    â†“
fetch(`${baseUrl}/chat/completions`)
    â†“
è¿”å› AI å“åº”
```

---

## ğŸ¯ å…³é”®æ•°æ®ç»“æ„

### Store çŠ¶æ€ç»“æ„
```javascript
{
  selectedTemplate: {},      // å½“å‰é€‰æ‹©çš„æ¨¡æ¿
  pageInfo: {                // é¡µé¢åŸºæœ¬ä¿¡æ¯
    pageName: '',
    title: '',
    breadcrumb: []
  },
  slots: {                   // ç»„ä»¶é…ç½®
    searchArea: [],          // æœç´¢åŒºç»„ä»¶
    actionArea: [],          // æ“ä½œåŒºç»„ä»¶
    tableColumns: []         // è¡¨æ ¼åˆ—
  },
  apiConfigs: [],            // API é…ç½®åˆ—è¡¨
  aiConfig: {                // AI é…ç½®
    baseUrl: '',
    apiKey: '',
    model: '',
    temperature: 0.2,
    maxTokens: 4000
  }
}
```

### æ¨¡æ¿ç»“æ„
```javascript
{
  id: 'standard-list',
  label: 'æ ‡å‡†åˆ—è¡¨é¡µ',
  slots: {
    searchArea: {
      label: 'æœç´¢åŒº',
      maxCount: 8,
      allowedComponents: ['el-input', 'el-select']
    }
  }
}
```

### ç»„ä»¶ç»“æ„
```javascript
{
  id: 'xxx',
  component: 'el-input',
  label: 'ç”¨æˆ·å',
  model: 'username',
  props: { placeholder: 'è¯·è¾“å…¥' }
}
```

---

## ğŸ” å…³é”®æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | ä½œç”¨ | é‡è¦ç¨‹åº¦ |
|------|------|----------|
| `views/Editor.vue` | ä¸»ç¼–è¾‘é¡µé¢ï¼Œæ‰€æœ‰åŠŸèƒ½çš„å…¥å£ | â­â­â­â­â­ |
| `store/index.js` | å…¨å±€çŠ¶æ€ç®¡ç†ï¼Œæ‰€æœ‰é…ç½®çš„å­˜å‚¨ä¸­å¿ƒ | â­â­â­â­â­ |
| `services/codeGenerator.js` | ä»£ç ç”Ÿæˆæ ¸å¿ƒé€»è¾‘ | â­â­â­â­â­ |
| `services/aiService.js` | AI æ¥å£è°ƒç”¨ | â­â­â­â­ |
| `services/templateManager.js` | æ¨¡æ¿åŠ è½½å’Œç®¡ç† | â­â­â­â­ |
| `services/componentLibrary.js` | ç»„ä»¶åº“å®šä¹‰ | â­â­â­ |
| `components/CodeGenerator.vue` | ä»£ç ç”Ÿæˆ UI | â­â­â­â­ |
| `components/ComponentConfig.vue` | ç»„ä»¶é…ç½® UI | â­â­â­ |

---

## ğŸ’¡ å­¦ä¹ å»ºè®®

1. **ä» Editor.vue å¼€å§‹** - ç†è§£æ•´ä½“é¡µé¢å¸ƒå±€å’ŒåŠŸèƒ½
2. **æŸ¥çœ‹ store/index.js** - ç†è§£æ•°æ®æµå’ŒçŠ¶æ€ç®¡ç†
3. **æ·±å…¥ services/** - ç†è§£ä¸šåŠ¡é€»è¾‘
4. **æŸ¥çœ‹ components/** - ç†è§£ UI äº¤äº’
5. **é˜…è¯» templates/** - ç†è§£æ¨¡æ¿ç»“æ„

---

## ğŸ› ï¸ æ‰©å±•å¼€å‘

- **æ·»åŠ æ–°æ¨¡æ¿**: `templates/` ç›®å½•ä¸‹åˆ›å»ºæ–°æ–‡ä»¶å¤¹ï¼Œå‚è€ƒ `standard-list`
- **æ·»åŠ æ–°ç»„ä»¶**: ä¿®æ”¹ `services/componentLibrary.js`
- **ä¿®æ”¹ç”Ÿæˆé€»è¾‘**: ä¿®æ”¹ `services/codeGenerator.js`
- **è°ƒæ•´ UI**: ä¿®æ”¹å¯¹åº”çš„ Vue ç»„ä»¶

