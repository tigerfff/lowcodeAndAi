# AI 辅助可视化低代码页面生成工具 - 产品文档

## 📋 目录

- [1. 产品概述](#1-产品概述)
- [2. 核心价值](#2-核心价值)
- [3. 功能特性](#3-功能特性)
- [4. 使用指南](#4-使用指南)
- [5. 应用场景](#5-应用场景)
- [6. 最佳实践](#6-最佳实践)

---

## 1. 产品概述

### 1.1 产品定位

AI 辅助可视化低代码页面生成工具是一款面向前端开发者的**代码生成工具**，通过**可视化拖拽 + 配置 + AI 智能生成**的方式，快速生成高质量的 Vue2 + hui 组件库页面代码。

### 1.2 解决的问题

**传统开发痛点**：
- ❌ 重复劳动多：列表页、表单页结构类似，却需要反复编写
- ❌ 接口对接繁琐：需要手写大量的接口调用、数据转换代码
- ❌ 组件联动复杂：下拉框级联、字段依赖等逻辑容易出错
- ❌ 代码风格不统一：不同开发者写法不同，维护成本高

**我们的解决方案**：
- ✅ 可视化拖拽：直观地组装页面组件
- ✅ 配置化开发：通过配置完成大部分工作
- ✅ AI 智能生成：自动生成连接代码和业务逻辑
- ✅ 代码规范统一：生成的代码风格一致，质量可控

### 1.3 产品特点

**🎨 可视化操作**
- 类低代码平台的三栏布局
- 实时预览，所见即所得
- 拖拽交互，简单易用

**🧩 灵活组装**
- 模板只提供布局容器
- 用户自由选择和配置组件
- 支持自定义业务组件

**🔗 多接口支持**
- 一个组件可绑定多个接口
- 支持选项接口、提交接口、联动接口
- 自动处理接口依赖关系

**🤖 AI 增强**
- AI 根据配置生成连接代码
- 支持自定义提示词增强理解
- 智能处理数据转换和业务逻辑

**📦 高保真输出**
- 生成可直接使用的 Vue2 代码
- 符合团队规范
- 包含完整的业务逻辑

---

## 2. 核心价值

### 2.1 效率提升

| 环节 | 传统开发 | 使用工具 | 提升倍数 |
|------|---------|---------|---------|
| 页面结构搭建 | 20-30分钟 | 5分钟 | **4-6倍** |
| 接口对接 | 30-40分钟 | 5分钟 | **6-8倍** |
| 组件联动 | 20-30分钟 | 3分钟 | **6-10倍** |
| 数据转换 | 15-20分钟 | 2分钟 | **7-10倍** |
| 代码调试 | 30-60分钟 | 10分钟 | **3-6倍** |
| **总计** | **2-3小时** | **25-30分钟** | **4-7倍** |

### 2.2 质量保证

**代码质量**：
- ✅ 统一的代码风格
- ✅ 完整的错误处理
- ✅ 规范的命名约定
- ✅ 清晰的代码结构

**功能完整性**：
- ✅ 接口调用逻辑完整
- ✅ 数据转换处理正确
- ✅ 组件联动关系清晰
- ✅ 异常情况考虑周全

### 2.3 学习成本

**低门槛**：
- 无需深入学习 hui 组件库
- 无需记忆大量 API
- 可视化操作，简单直观

**高灵活性**：
- 生成的代码可自由修改
- 支持渐进式使用
- 可作为学习参考

---

## 3. 功能特性

### 3.1 模板系统

**内置模板**：
- 📊 **标准列表页**：搜索区 + 表格 + 分页
- 🌳 **左树右表**：左侧树形导航 + 右侧表格
- 📑 **多Tab列表**：顶部Tab切换 + 列表内容

**模板是什么**：
模板是 hui-pro 页面布局组件的组合，包括：
- `h-page-container`：最外层容器
- `h-page-header`：页面头部（面包屑、标题、操作按钮）
- `h-page-content`：内容区域
- `h-page-search`：搜索区（自适应栅格布局，1-6列自动调整）
- `h-page-search-item`：搜索项容器（包裹表单组件）
- `h-page-table`：表格区（支持表头固定、滚动条固定）

**模板特点**：
- ✅ **智能布局**：自动响应式，自动计算列数
- ✅ **内置交互**：高低频搜索、表头固定、分页固定
- ✅ **多层 Slot**：在容器中自由添加组件
- ✅ **零配置**：不需要手动配置响应式断点、固定逻辑等

**关键优势**：
这些组件已经封装了复杂的布局和交互逻辑，用户只需要：
1. 选择模板（决定整体布局）
2. 在 slot 中拖入组件（决定内容）
3. 配置组件属性和接口（决定数据）

组件会自动处理：
- ✅ 搜索区根据屏幕宽度自动调整列数
- ✅ 表头滚动时自动吸顶
- ✅ 分页器固定在底部
- ✅ 高低频搜索自动展开/收起

### 3.2 组件库

**搜索组件**：
- `el-input`：文本输入框
- `el-select`：下拉选择器
- `el-date-picker`：日期选择器
- `el-cascader`：级联选择器
- `time-selector`：时间段选择器
- 自定义组件：支持业务自定义组件

**表格组件**：
- `el-table-column`：表格列配置
- 支持文本、日期、标签、自定义渲染

**操作组件**：
- `el-button`：操作按钮
- `button-group`：按钮组

### 3.3 接口绑定

**接口类型**：

**1. 选项接口**
- 用于填充下拉框、级联选择器
- 支持静态数据和动态接口
- 支持数据缓存

**2. 提交接口**
- 用于表单提交、搜索查询
- 支持参数映射和数据转换
- 支持分页参数

**3. 联动接口**
- 组件值变化时触发
- 支持依赖参数传递
- 自动清空关联字段

**4. 操作接口**
- 按钮点击时调用
- 支持批量操作、导出等

**配置项**：
- URL、Method
- 触发时机（页面加载、watch、点击等）
- 数据路径、字段映射
- 依赖参数、缓存策略

### 3.4 AI 增强

**AI 提示词**：
- 组件级提示词：说明单个组件的特殊逻辑
- 全局提示词：说明整个页面的业务逻辑
- 自动分析：AI 自动分析组件依赖关系

**智能生成**：
- 自动生成接口调用函数
- 自动生成数据转换逻辑
- 自动生成组件联动代码
- 自动生成错误处理

**降级策略**：
- AI 失败时自动降级到模板渲染
- 保证基础功能可用

### 3.5 实时预览

**iframe 预览**：
- 真实的 Vue2 + hui 组件渲染
- 使用 mock 数据填充
- 实时响应配置变化

**交互功能**：
- 点击组件进行配置
- 拖拽调整组件顺序
- 高亮显示 slot 区域

---

## 4. 使用指南

### 4.1 快速开始

#### 步骤 1：选择模板

1. 打开工具，顶部下拉框选择模板
2. 可选模板：
   - 标准列表页
   - 左树右表
   - 多Tab列表
3. 中间预览区显示模板结构

#### 步骤 2：添加组件

1. 从左侧组件库拖拽组件
2. 拖到中间预览区的 slot 区域
3. 松开鼠标，组件添加成功
4. 右侧自动显示组件配置面板

#### 步骤 3：配置组件

**基础配置**：
- 字段名：表单字段名（必填）
- 显示标签：组件显示的文本
- 占位符：输入框的提示文本
- 其他属性：可清空、可搜索等

**接口绑定**：
1. 点击"添加接口"按钮
2. 选择接口用途：
   - 获取下拉选项
   - 提交主接口
   - 值变化时触发
3. 配置接口信息：
   - URL、Method
   - 触发时机
   - 数据路径
   - 字段映射

**AI 提示词**（可选）：
- 说明组件的特殊逻辑
- 说明与其他组件的关系
- 说明数据转换规则

#### 步骤 4：配置级联关系

**示例：团队和组织的级联**

1. 添加"团队"下拉框：
   - 绑定选项接口：`/api/teams`
   - 触发时机：页面加载

2. 添加"组织"下拉框：
   - 绑定选项接口：`/api/organizations?teamId={teamId}`
   - 触发时机：`watch:teamId`（监听团队字段变化）
   - 依赖参数：`teamId`
   - AI提示词："依赖团队字段，团队改变时清空当前值"

#### 步骤 5：配置表格

1. 点击预览区的表格区域
2. 配置主数据接口：
   - URL：`/api/users`
   - Method：`POST`
   - 数据路径：`data.rows`
   - 总数路径：`data.total`
3. 配置表格列：
   - 手动添加列
   - 或点击"AI 推断"自动生成

#### 步骤 6：生成代码

1. 点击顶部"生成代码"按钮
2. 等待 AI 生成（5-10秒）
3. 查看生成结果：
   - Vue 组件代码
   - 校验结果
   - 使用说明
4. 复制代码或下载文件

### 4.2 界面说明

```
┌───────────────────────────────────────────────────────────┐
│ [标准列表页 ▼] │ [撤销] [重做] │ [预览] [生成代码] [保存]  │
├───────────┬──────────────────────┬───────────────────────┤
│           │                      │                       │
│  组件库    │    实时预览 (iframe)  │    属性配置区          │
│           │                      │                       │
│  搜索组件  │  ┌────────────────┐  │  [组件配置] Tab       │
│  ├ input  │  │ [搜索区]       │  │   - 基础属性          │
│  ├ select │  │  点击组件配置   │  │   - 接口绑定          │
│  ├ date   │  │                │  │   - AI 提示词         │
│  └ ...    │  │ [表格区]       │  │                       │
│           │  │  [......]     │  │  [接口管理] Tab       │
│  表格组件  │  │                │  │   - 主数据接口        │
│  └ column │  │ [分页器]       │  │   - 选项接口列表      │
│           │  └────────────────┘  │                       │
│  操作组件  │                      │  [页面设置] Tab       │
│  └ button │                      │   - 页面信息          │
│           │                      │   - 全局提示词        │
└───────────┴──────────────────────┴───────────────────────┘
```

### 4.3 常见操作

**调整组件顺序**：
- 在预览区直接拖拽组件

**删除组件**：
- 点击选中组件
- 右侧配置面板底部点击"删除组件"

**复制组件**：
- 点击选中组件
- 右侧配置面板底部点击"复制组件"

**保存配置**：
- 顶部点击"保存配置"
- 可导出 JSON 文件，下次直接导入

---

## 5. 应用场景

### 5.1 后台管理系统

**适用页面**：
- 用户管理列表
- 角色权限管理
- 系统日志查询
- 数据统计报表

**优势**：
- 快速搭建 CRUD 页面
- 统一的交互体验
- 规范的代码结构

### 5.2 数据查询系统

**适用页面**：
- 订单查询
- 库存查询
- 日志查询
- 报表查询

**优势**：
- 灵活的搜索条件配置
- 支持复杂的筛选逻辑
- 高效的数据展示

### 5.3 审批流程系统

**适用页面**：
- 审批列表
- 待办事项
- 流程监控
- 历史记录

**优势**：
- 支持状态筛选
- 支持多维度查询
- 快速构建列表页

### 5.4 数据录入系统

**适用页面**：
- 信息登记
- 数据采集
- 表单填报

**优势**：
- 支持级联下拉框
- 支持数据验证
- 自动数据转换

---

## 6. 最佳实践

### 6.1 模板选择

**标准列表页**：
- 适合：单一数据源的列表页
- 不适合：需要多个独立表格的页面

**左树右表**：
- 适合：按分类查看数据（如：部门-员工、分类-商品）
- 不适合：树形数据不明确的场景

**多Tab列表**：
- 适合：按状态、类型分组的数据（如：待审核/已审核）
- 不适合：Tab数量过多（>5个）

### 6.2 组件配置

**字段命名**：
- ✅ 使用语义化的字段名：`userName`、`createTime`
- ❌ 避免缩写：`usrNm`、`ct`

**标签文本**：
- ✅ 简洁明了：`用户名`、`创建时间`
- ❌ 避免冗余：`请输入用户名`（占位符中使用）

**占位符**：
- ✅ 引导用户：`请输入用户名`、`请选择状态`
- ❌ 避免重复标签：`用户名`

### 6.3 接口绑定

**选项接口**：
- ✅ 页面加载时获取：适合数据量少、不常变化的选项
- ✅ watch 触发：适合级联关系的选项
- ❌ 避免频繁请求：考虑使用缓存

**提交接口**：
- ✅ 明确参数名：与后端约定一致
- ✅ 数据转换：前端格式 → 后端格式
- ❌ 避免传递多余参数

**联动接口**：
- ✅ 明确依赖关系：在配置中标注
- ✅ 清空关联字段：避免脏数据
- ❌ 避免循环依赖

### 6.4 AI 提示词

**组件级提示词**：
```
✅ 好的示例：
"团队字段变化时，需要清空组织字段并重新加载组织选项"

❌ 不好的示例：
"注意依赖关系"（太模糊）
```

**全局提示词**：
```
✅ 好的示例：
"这是一个用户管理页面，团队和组织是级联关系，
状态字段有启用/停用两个值，导出功能使用当前搜索条件"

❌ 不好的示例：
"这是一个列表页"（太简单）
```

### 6.5 代码生成

**生成前检查**：
- ✅ 所有组件已配置字段名
- ✅ 必要的接口已绑定
- ✅ 级联关系已配置
- ✅ 数据转换规则已配置

**生成后检查**：
- ✅ 代码校验通过
- ✅ 接口调用逻辑正确
- ✅ 数据转换正确
- ✅ 异常处理完整

**代码调整**：
- 生成的代码可以直接使用
- 如有特殊需求，可手动修改
- 建议：先测试基础功能，再添加自定义逻辑

---

## 7. 常见问题

### Q1: 生成的代码可以直接使用吗？

**A**: 可以！生成的代码包含：
- 完整的页面结构
- 接口调用逻辑
- 数据转换处理
- 错误处理

但可能需要根据项目调整：
- API 请求方法（如果项目使用了封装的 axios）
- 样式细节（如果有特殊的 UI 要求）
- 特殊业务逻辑

### Q2: 不会配置接口绑定怎么办？

**A**: 接口绑定其实很简单：
1. 下拉框 → 添加"获取选项"接口
2. 所有搜索组件 → 添加"提交参数"
3. 级联组件 → 设置"触发时机"为 watch

不确定时，可以参考工具中的示例。

### Q3: AI 生成失败怎么办？

**A**: 不用担心，工具有降级方案：
- AI 失败时会自动使用模板渲染
- 生成的代码同样可用
- 只是可能需要手动完善一些细节

### Q4: 如何处理复杂的数据转换？

**A**: 两种方式：
1. **使用内置转换**：如日期范围拆分、数组转字符串等
2. **自定义转换**：在 AI 提示词中说明转换规则，AI 会生成对应代码

示例：
```
AI 提示词：
"日期范围需要转换成后端需要的格式：
前端: [Date, Date]
后端: { startTime: 'YYYY-MM-DD', endTime: 'YYYY-MM-DD' }"
```

### Q5: 可以保存配置吗？

**A**: 可以！
- 点击顶部"保存配置"按钮
- 导出 JSON 文件
- 下次使用时点击"导入配置"
- 常用配置可以保存为模板

### Q6: 如何调试生成的代码？

**A**: 建议步骤：
1. 先在预览区测试基础功能
2. 复制代码到项目中
3. 运行项目，查看控制台
4. 如有错误，根据提示修改
5. 大部分问题是接口地址或参数名不匹配

---

## 8. 更新日志

### v1.0.0 (2025-10-31)

**核心功能**：
- ✅ 可视化拖拽编辑器
- ✅ 三种内置模板
- ✅ 多接口绑定支持
- ✅ AI 智能代码生成
- ✅ 实时预览功能

**已支持组件**：
- 搜索组件：input、select、date-picker、cascader
- 表格组件：table-column
- 操作组件：button

**已支持接口类型**：
- 选项接口、提交接口、联动接口、操作接口

---

## 9. 联系我们

**产品反馈**：
- 如有问题或建议，请通过 GitHub Issues 反馈

**技术支持**：
- 参考开发文档：`docs/开发文档.md`
- 查看示例配置：`examples/` 目录

**后续计划**：
- 更多内置模板
- 更多组件支持
- 更多 AI 模型支持
- 配置市场（分享和使用他人的配置）

---

**产品版本**: 1.0.0  
**最后更新**: 2025-10-31  
**维护团队**: 开发团队

