# 智能页面代码生成工具 - 产品文档

## 一、产品定位

基于组件库和模板的智能代码生成工具，通过 **极简交互 + AI 智能推断**，快速生成高质量的 Vue2 业务页面代码（使用 hui2.43.2 + hui-pro 组件库）。

### 核心理念

**用户只负责"选择"，AI 负责"推断和生成"**

---

## 二、产品价值

### 2.1 效率提升

- ⚡ **3-5 分钟**生成完整页面代码
- 🎯 **零配置**：选择组件即可，无需配置属性
- 🤖 **AI 推断**：自动推断组件属性、API 配置、数据流转

### 2.2 代码质量

- ✅ **模板生成**：基于 Handlebars 模板，代码结构稳定
- ✅ **规范统一**：符合 Vue2 + hui2.43.2 + hui-pro 组件库规范
- ✅ **可直接使用**：生成的代码无需修改即可使用

### 2.3 灵活扩展

- 📦 **组件库驱动**：支持自定义业务组件
- 🎨 **模板扩展**：新增模板支持新场景
- 🔌 **插件化**：支持通过 MCP 扩展组件能力

---

## 三、核心功能

### 3.1 模板系统

**定义页面骨架**

- 标准列表页：搜索 + 表格 + 分页
- 复杂筛选页：多条件筛选 + 复杂选择器 + 表格
- 表单配置页：动态表单 + 侧边栏弹窗

**模板特点**：
- 固定布局结构
- 定义 Slot 位置（可填充组件）
- 规定组件约束（可选组件类型、数量限制）

### 3.2 组件库

**三层组件体系**

**第一层：基础组件**
- hui2.43.2：`el-input`、`el-select`、`el-date-picker`、`el-button` 等
- hui-pro：`h-page-container`、`h-page-search`、`h-page-table`、`h-page-action` 等

**第二层：业务组件**
- 区域选择器（双面板、层级浏览、搜索过滤）
- 人员选择器（标签输入、多选、搜索）
- 团队选择器（层级浏览、筛选）
- 任务表格（动态列、操作按钮）

**第三层：自定义组件**
- 支持注册自定义业务组件
- 支持组件模板定义

### 3.3 AI 智能推断

**AI 负责的核心任务**

1. **推断组件属性**
   - 字段名、标签、占位符
   - 校验规则、默认值
   - 组件配置

2. **推断 API 配置**
   - 请求参数、响应格式
   - 数据路径映射
   - 分页参数

3. **推断组件依赖**
   - 组件间的关系（区域 → 团队 → 查询）
   - 数据流转逻辑
   - 事件处理逻辑

4. **生成代码**
   - 组件使用代码
   - API 调用逻辑
   - 数据流转逻辑
   - 事件处理逻辑

### 3.4 代码生成

**双引擎生成**

- **Handlebars 模板引擎**：生成页面结构（100% 稳定）
- **AI 代码生成**：生成业务逻辑（智能组装）

**生成内容**：
- 完整的 Vue2 单文件组件（.vue）
- template 部分：页面结构（使用 hui-pro 页面组件）
- script 部分：数据、方法、生命周期（Options API）
- style 部分：样式（less/scss）
- 使用 hui2.43.2 + hui-pro 组件库

---

## 四、使用流程

### 标准流程（4 步完成）

```
Step 1: 选择模板
  → 从模板库选择页面类型
  
Step 2: 选择组件
  → 在 Slot 位置点击"添加组件"
  → 从组件选择器选择需要的组件
  → 组件自动添加到列表
  
Step 3: 配置 API
  → 填写多个 API 配置（支持粘贴请求/响应 JSON）
  → 配置 AI 模型（baseUrl + key）
  
Step 4: 生成代码
  → 点击"生成代码"
  → AI 推断配置并生成代码
  → 复制或下载代码
```

### 快速流程（使用预设）

```
1. 选择模板预设（如"问题统计页"）
2. 修改 API 地址
3. 生成代码
```

---

## 五、交互设计

### 5.1 界面布局

**向导式布局**

```
┌────────────────────────────────────────────────────┐
│  步骤导航：                                         │
│  ① 选择模板 → ② 选择组件 → ③ 配置 API → ④ 生成代码 │
└────────────────────────────────────────────────────┘
         ↓
┌────────────────────────────────────────────────────┐
│  当前步骤内容区                                     │
└────────────────────────────────────────────────────┘
```

### 5.2 组件选择交互

**弹框式组件选择器**

```
点击"添加组件"
  ↓
弹出组件选择器
  - 分类展示（基础组件/业务组件）
  - 搜索过滤
  - 显示组件描述和功能
  ↓
选择组件
  ↓
组件自动添加到列表
```

### 5.3 API 配置交互

**支持多 API 配置 + JSON 粘贴**

```
点击"添加 API 接口"
  ↓
填写 API 信息：
  • 接口名称：用户列表查询
  • 接口地址：POST /api/users/list
  • 粘贴请求参数示例（JSON）
  • 粘贴响应示例（JSON）
  • 用途说明
  ↓
支持添加多个 API（每个业务场景可能需要多个接口）
```

### 5.4 AI 模型配置

```
在生成代码前，需配置 AI 模型：
  • Base URL：AI 模型的接口地址
  • API Key：AI 服务的访问密钥
  • 模型选择：gpt-4, claude-3, etc.
```

---

## 六、AI 的作用

### AI 负责的任务

1. **推断组件配置**
   - 根据组件类型推断属性
   - 根据 API 推断字段名和标签
   - 根据数据类型推断控件类型

2. **推断 API 配置**
   - 根据 API 文档推断请求参数
   - 推断响应数据格式
   - 推断数据路径映射

3. **推断组件依赖**
   - 识别组件间的关系
   - 生成数据流转逻辑
   - 生成事件处理逻辑

4. **生成代码**
   - 生成组件使用代码
   - 生成 API 调用逻辑
   - 生成数据绑定逻辑

### AI 的边界

- ✅ 负责：推断、组装、生成逻辑
- ❌ 不负责：创造组件、决定页面结构

---

## 七、适用场景

### 7.1 标准场景

- **标准列表页**：搜索 + 表格 + 分页
- **复杂筛选页**：多条件筛选 + 复杂选择器
- **表单配置页**：动态表单 + 侧边栏弹窗

### 7.2 业务场景

- 后台管理系统：各种管理页面
- 数据展示系统：统计分析页面
- 配置管理系统：配置表单页面

### 7.3 组件类型

- 基础组件：输入框、下拉框、日期选择器
- 业务组件：区域选择器、人员选择器、团队选择器
- 自定义组件：任何可注册的 Vue 组件

---

## 八、产品特点

### 8.1 极简交互

- 📌 **只需选择**：用户只需选择模板和组件
- 🚫 **无需配置**：不需要配置组件属性
- 🤖 **AI 推断**：所有配置由 AI 推断

### 8.2 智能推断

- 🧠 **自动识别**：自动识别组件需要的 API
- 🔗 **自动关联**：自动识别组件间的依赖关系
- 📊 **自动映射**：自动推断数据路径和字段映射

### 8.3 代码稳定

- 🎯 **模板生成**：页面结构由 Handlebars 模板生成
- ✅ **质量保证**：模板经过测试，代码质量可控
- 📝 **规范统一**：生成的代码风格一致

---

## 九、优势总结

### 对比传统开发

| 环节 | 传统开发 | 使用本工具 | 提升 |
|------|---------|-----------|------|
| 页面结构搭建 | 20-30分钟 | 1分钟（选择模板） | **20-30倍** |
| 组件配置 | 30-40分钟 | 2分钟（选择组件） | **15-20倍** |
| API 对接 | 30-40分钟 | 1分钟（填写URL） | **30-40倍** |
| 逻辑编写 | 40-60分钟 | 0分钟（AI生成） | **∞** |
| **总计** | **2-3小时** | **5分钟** | **24-36倍** |

### 对比低代码平台

| 特性 | 低代码平台 | 本工具 |
|------|-----------|-------|
| 输出 | 配置文件 | 代码文件 |
| 灵活性 | 受限于平台 | 代码可自由修改 |
| 学习成本 | 需要学习平台 | 无需学习 |
| 维护性 | 依赖平台 | 代码独立 |
| 扩展性 | 受限 | 完全自由 |

---

## 十、技术特性

### 10.1 技术栈

**开发工具技术栈**：
- **前端框架**：Vue 3 + Vite
- **UI 组件库**：Element Plus
- **状态管理**：Pinia
- **样式框架**：Tailwind CSS

**生成代码技术栈**：
- **前端框架**：Vue 2
- **UI 组件库**：hui2.43.2 + hui-pro
- **模板引擎**：Handlebars
- **AI 能力**：通过 HTTP 调用外部 AI 模型

### 10.2 架构特点

- **分层架构**：基础组件 → 业务组件 → 页面模板
- **模板驱动**：代码由模板生成，稳定可控
- **AI 辅助**：AI 负责推断和组装
- **配置化**：通过配置描述页面需求

---

## 十一、产品路线图

### 阶段 1：MVP（当前阶段）

- ✅ 1-2 个页面模板
- ✅ 10-20 个基础组件
- ✅ 3-5 个业务组件
- ✅ 基础 AI 推断功能

### 阶段 2：完善（未来）

- 📋 5-10 个页面模板
- 📦 20-30 个基础组件
- 🔧 10-20 个业务组件
- 🤖 完善 AI 推断功能

### 阶段 3：扩展（未来）

- 🚀 CLI 工具支持
- 🔌 MCP 集成
- 📊 使用统计和优化
- 🌐 云端协作

---

## 十二、使用示例

### 示例 1：生成"问题统计页"

**用户操作**：

1. 选择模板：复杂筛选列表页
2. 添加组件：
   - 搜索区：区域选择器、团队选择器
   - 表格区：数据表格
3. 填写 API：
   - 主数据 API：`/api/problems/list`
   - 区域 API：`/api/areas`
   - 团队 API：`/api/teams`
4. 生成代码

**AI 自动完成**：
- 推断区域选择器属性：可搜索、可多选、层级浏览
- 推断团队选择器属性：标签输入、依赖区域
- 推断依赖关系：区域变化 → 加载团队 → 触发查询
- 推断数据映射：`data.rows` → 表格数据
- 生成完整代码

**时间**：3-5 分钟

---

### 示例 2：生成"用户管理列表页"

**用户操作**：

1. 选择模板：标准列表页
2. 添加组件：
   - 搜索区：输入框、下拉选择、日期选择器
   - 表格区：数据表格
3. 填写 API：`/api/users/list`
4. 生成代码

**AI 自动完成**：
- 推断搜索字段：userName（输入框）、status（下拉框）
- 推断表格列：userName、phone、email、createTime
- 推断数据映射：`data.rows`、`data.total`
- 生成完整代码

**时间**：2-3 分钟

---

## 十三、常见问题

### Q1：支持哪些组件？

**A**：支持三类组件
- 基础组件：Element UI 全部组件
- 业务组件：预置的业务组件（区域选择器、人员选择器等）
- 自定义组件：可注册自定义组件到组件库

### Q2：如何添加自定义组件？

**A**：在组件库中注册
- 定义组件名称、属性、使用场景
- AI 即可识别并使用该组件

### Q3：生成的代码质量如何？

**A**：代码质量稳定
- 页面结构由 Handlebars 模板生成（100% 稳定）
- 业务逻辑由 AI 生成（基于组件库和 API 配置）
- 代码符合 Vue2 + hui-pro 规范

### Q4：AI 推断不准确怎么办？

**A**：支持配置导出和手动修改
- 导出生成的配置 JSON
- 手动修改配置
- 重新生成代码

### Q5：支持哪些页面类型？

**A**：当前支持
- 标准列表页
- 复杂筛选页
- 表单配置页

未来扩展：左树右表、多 Tab 列表、详情页等

---

## 十四、产品定位

### 目标用户

- **主要用户**：前端开发者
- **次要用户**：全栈开发者
- **不适合**：非技术人员（需要一定的前端基础）

### 使用场景

- ✅ **后台管理系统**：各种标准页面
- ✅ **数据展示系统**：统计分析页面
- ✅ **配置管理系统**：配置表单页面
- ❌ **复杂业务逻辑**：需要手动开发
- ❌ **高度定制化**：超出模板覆盖范围

### 产品边界

**做什么**：
- ✅ 生成标准页面代码
- ✅ 支持常用业务组件
- ✅ AI 推断配置和生成逻辑

**不做什么**：
- ❌ 可视化拖拽布局
- ❌ 实时预览运行
- ❌ 复杂业务逻辑
- ❌ 低代码平台

---

## 十五、总结

**智能页面代码生成工具**是一款基于组件库和模板的代码生成工具，通过极简交互和 AI 智能推断，帮助开发者快速生成高质量的 Vue2 业务页面代码（使用 hui2.43.2 + hui-pro 组件库）。

**核心优势**：
- ⚡ 快速：3-5 分钟生成完整页面
- 🎯 简单：只需选择，无需配置
- 🤖 智能：AI 自动推断和生成
- ✅ 稳定：模板保证代码质量

**适用场景**：后台管理系统、数据展示系统、配置管理系统的标准页面开发。

