{
  "id": "standard-list",
  "label": "标准列表页",
  "description": "带搜索区、操作区和表格的标准列表页面。",
  "preview": "templates/standard-list/preview.png",
  "version": "2.0.0",
  "author": "AI Code Generator",
  "layout": {
    "structure": "fixed",
    "template": "page.vue.hbs",
    "description": "固定布局结构：容器 → 头部 → 内容（搜索区 + 操作区 + 表格 + 分页）"
  },
  "slots": {
    "searchArea": {
      "label": "搜索区",
      "description": "位于页面顶部的搜索条件区域，可添加 0~8 个搜索组件。",
      "maxCount": 8,
      "allowedComponents": [
        "el-input",
        "el-select",
        "el-date-picker",
        "el-cascader",
        "el-autocomplete",
        "area-selector",
        "team-selector",
        "user-selector"
      ],
      "wrapper": "h-page-search-item"
    },
    "actionArea": {
      "label": "操作区",
      "description": "搜索区下方的操作按钮区域，可添加 0~6 个操作组件。",
      "maxCount": 6,
      "allowedComponents": [
        "el-button",
        "el-dropdown",
        "action-group",
        "batch-selector"
      ]
    },
    "tableColumns": {
      "label": "表格列",
      "description": "数据表格列配置，至少包含 1 列。",
      "minCount": 1,
      "allowedComponents": [
        "el-table-column"
      ]
    }
  },
  "previewLayout": {
    "description": "预览时的动态布局配置",
    "root": {
      "component": "h-page-container",
      "class": "h-page-container",
      "children": [
        {
          "component": "h-page-header",
          "class": "h-page-header",
          "renderType": "header"
        },
        {
          "component": "h-page-content",
          "class": "h-page-content",
          "children": [
            {
              "component": "h-page-search",
              "class": "drop-zone",
              "dropZone": "search",
              "props": {
                "showHighFrequency": true,
                "column": 3
              },
              "slots": {
                "default": "searchArea"
              },
              "emptyText": "可在此添加搜索组件"
            },
            {
              "component": "h-page-action",
              "class": "drop-zone",
              "dropZone": "action",
              "slots": {
                "default": "actionArea"
              },
              "emptyText": "可在此添加操作按钮"
            },
            {
              "component": "h-page-table",
              "class": "drop-zone",
              "dropZone": "table",
              "props": {
                "fixedHeight": true
              },
              "children": [
                {
                  "component": "el-table",
                  "slot": "default",
                  "props": {
                    "data": [],
                    "border": true,
                    "size": "small"
                  },
                  "slots": {
                    "default": "tableColumns"
                  },
                  "emptyText": "配置表格列"
                },
                {
                  "component": "el-pagination",
                  "slot": "pagination",
                  "props": {
                    "layout": "total, sizes, prev, pager, next, jumper",
                    "total": 0
                  }
                }
              ]
            }
          ]
        }
      ]
    }
  },
  "aiTasks": [
    "从业务需求或 API 文档推断搜索区组件配置（类型、标签、默认值、校验规则）",
    "根据功能描述推断操作区按钮配置（类型、文案、事件处理）",
    "从 API 响应推断表格列配置（字段名、显示标签、数据类型、宽度、格式化）",
    "推断数据路径映射（列表数据路径 dataPath、总数路径 totalPath）",
    "推断分页参数映射（pageNo/pageSize 或其变体如 current/size、page/limit）",
    "识别组件间依赖关系（如区域选择器 → 团队选择器）并生成事件绑定",
    "为低置信度推断项提供提示与确认"
      ],
  "componentDefaults": {
    "h-page-search": {
      "label-position": "top"
    },
    "h-page-table": {
      "fixedHeight": true
    },
    "el-table": {
      "stripe": true,
      "show-overflow-tooltip": true
    },
    "el-pagination": {
      "layout": "total, sizes, prev, pager, next, jumper",
      "page-sizes": [10, 20, 50, 100]
    }
  },
  "configSchema": {
    "description": "页面配置 JSON Schema，用于验证 AI 输出",
    "type": "object",
    "required": ["templateId", "pageName", "api"],
    "properties": {
      "templateId": {
        "type": "string",
        "enum": ["standard-list"]
      },
      "pageName": {
        "type": "string",
        "description": "页面名称，用于生成组件名"
      },
      "description": {
        "type": "string",
        "description": "页面描述"
      },
      "breadcrumb": {
        "type": "array",
        "items": { "type": "string" },
        "description": "面包屑路径"
      },
      "api": {
        "type": "object",
        "required": ["url", "method"],
        "properties": {
          "url": { "type": "string" },
          "method": { "type": "string", "enum": ["GET", "POST", "PUT", "DELETE"] },
          "importPath": { "type": "string" }
        }
      },
      "slots": {
        "type": "object",
        "properties": {
          "searchArea": {
        "type": "array",
        "items": {
          "type": "object",
              "required": ["component"],
          "properties": {
                "id": { "type": "string" },
                "component": { "type": "string" },
                "model": { "type": "string" },
            "label": { "type": "string" },
            "defaultValue": {},
                "props": { "type": "object" },
                "events": { "type": "object" },
                "options": { "type": "object" },
                "wrapperProps": { "type": "object" }
              }
            }
          },
          "actionArea": {
            "type": "array",
            "items": {
              "type": "object",
              "required": ["component"],
              "properties": {
                "id": { "type": "string" },
                "component": { "type": "string" },
                "text": { "type": "string" },
                "props": { "type": "object" },
                "events": { "type": "object" }
          }
        }
      },
          "tableColumns": {
        "type": "array",
        "items": {
          "type": "object",
              "required": ["component", "props"],
              "properties": {
                "id": { "type": "string" },
                "component": { "type": "string", "enum": ["el-table-column"] },
                "props": {
                  "type": "object",
                  "required": ["label"],
          "properties": {
            "prop": { "type": "string" },
            "label": { "type": "string" },
            "width": { "type": ["string", "number"] },
                    "minWidth": { "type": ["string", "number"] },
                    "type": { "type": "string" },
            "formatter": { "type": "string" },
                    "align": { "type": "string" },
                    "fixed": { "type": ["string", "boolean"] }
                  }
                },
                "customRender": { "type": "string" }
              }
            }
          }
        }
      },
      "table": {
        "type": "object",
        "description": "表格级别配置（props/events）",
        "properties": {
          "props": { "type": "object" },
          "events": { "type": "object" }
        }
      },
      "dataMapping": {
        "type": "object",
        "description": "主数据接口返回数据的路径映射配置",
        "properties": {
          "dataPath": { "type": "string", "default": "data.rows" },
          "totalPath": { "type": "string", "default": "data.total" }
        }
      },
      "pagination": {
        "type": "object",
        "description": "分页配置",
        "properties": {
          "enabled": { "type": "boolean", "default": true },
          "pageNoField": { "type": "string", "default": "pageNo" },
          "pageSizeField": { "type": "string", "default": "pageSize" },
          "pageSizes": {
            "type": "array",
            "items": { "type": "number" },
            "default": [10, 20, 50, 100]
          }
        }
      }
    }
  },
  "examples": [
    {
      "name": "用户列表",
      "description": "包含搜索、操作按钮和数据表格的典型用户列表页",
      "config": {
        "templateId": "standard-list",
        "pageName": "UserList",
        "breadcrumb": ["首页", "用户管理", "用户列表"],
        "api": {
          "url": "/api/user/list",
          "method": "POST"
        },
        "slots": {
          "searchArea": [
          {
              "id": "search_userName",
              "component": "el-input",
              "model": "userName",
            "label": "用户名",
              "defaultValue": "",
              "props": {
            "placeholder": "请输入用户名",
                "clearable": true
              }
          },
          {
              "id": "search_status",
              "component": "el-select",
              "model": "status",
            "label": "状态",
            "defaultValue": "",
              "props": {
                "placeholder": "请选择状态",
                "clearable": true,
                "options": [
                  { "label": "启用", "value": "1" },
                  { "label": "禁用", "value": "0" }
              ]
            }
          }
        ],
          "actionArea": [
            {
              "id": "action_search",
              "component": "el-button",
              "text": "查询",
              "props": {
                "type": "primary"
              },
              "events": {
                "click": "handleSearch"
              }
            },
            {
              "id": "action_reset",
              "component": "el-button",
              "text": "重置",
              "events": {
                "click": "handleReset"
              }
            }
          ],
          "tableColumns": [
            {
              "id": "column_userName",
              "component": "el-table-column",
              "props": {
                "prop": "userName",
                "label": "用户名",
                "minWidth": 150
              }
            },
            {
              "id": "column_phone",
              "component": "el-table-column",
              "props": {
                "prop": "phone",
                "label": "手机号",
                "minWidth": 120
              }
            },
            {
              "id": "column_createTime",
              "component": "el-table-column",
              "props": {
                "prop": "createTime",
                "label": "创建时间",
                "minWidth": 180
              }
            }
          ]
        },
        "dataMapping": {
          "dataPath": "data.rows",
          "totalPath": "data.total"
        },
        "pagination": {
          "enabled": true,
          "pageNoField": "pageNo",
          "pageSizeField": "pageSize",
          "pageSizes": [10, 20, 50, 100]
        }
      }
    }
  ]
}
